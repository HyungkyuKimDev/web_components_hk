<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ウェブ Components</title>
  </head>
  <body>


    <!-- 定義したComponentsの利用 -->
    <card-card></card-card>










    <!-- Componentsの定義 -->
    <script>
      // Componentsの情報の定義
      class CardCard extends HTMLElement {
        constructor() {
          super();
          this.toggleImage = this.toggleImage.bind(this);
          // methodをinstanceにbinding（methodが他のinstanceを使わずにこのinstanceを使うようにする）
        }
        // Componentsの生成し実行される関数
        connectedCallback() {
          // 六つのカードの追加
          for (let i = 0; i < 6; i++) {
            const card = document.createElement("img");
            card.src = "../img/question.png";
            card.setAttribute("value", "hi");
            card.addEventListener("click", this.toggleImage); // クリックのイベントリスなの追加
            this.appendChild(card);
          }
        }
        // イメージの変更のための関数
        toggleImage(event) {
          // クリックされたカードを選択
          const card = event.target;
          if (card.getAttribute("value") === "hi") {
            card.setAttribute("value", "hello");
            card.src = "../img/start.png";
          } else {
            card.setAttribute("value", "hi");
            card.src = "../img/question.png";
          }
        }
      }
      // Componentsの定義
      customElements.define("card-card", CardCard);


    </script>
  </body>
</html>
